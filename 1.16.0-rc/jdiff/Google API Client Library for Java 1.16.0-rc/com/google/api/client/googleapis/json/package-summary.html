<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0-google-v5) on Wed Aug 21 11:26:02 EDT 2013 -->
<title>com.google.api.client.googleapis.json</title>
<meta name="date" content="2013-08-21">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="com.google.api.client.googleapis.json";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/google/api/client/googleapis/javanet/package-summary.html">Prev Package</a></li>
<li><a href="../../../../../../com/google/api/client/googleapis/media/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/google/api/client/googleapis/json/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;com.google.api.client.googleapis.json</h1>
<div class="docSummary">
<div class="block">Google's JSON support (see detailed package specification).</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../com/google/api/client/googleapis/json/GoogleJsonError.html" title="class in com.google.api.client.googleapis.json">GoogleJsonError</a></td>
<td class="colLast">
<div class="block">Data class representing the Google JSON error response content, as documented for example in <a
 href="https://code.google.com/apis/urlshortener/v1/getting_started.html#errors">Error
 responses</a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../com/google/api/client/googleapis/json/GoogleJsonError.ErrorInfo.html" title="class in com.google.api.client.googleapis.json">GoogleJsonError.ErrorInfo</a></td>
<td class="colLast">
<div class="block">Detailed error information.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../com/google/api/client/googleapis/json/GoogleJsonErrorContainer.html" title="class in com.google.api.client.googleapis.json">GoogleJsonErrorContainer</a></td>
<td class="colLast">
<div class="block">Data class representing a container of <a href="../../../../../../com/google/api/client/googleapis/json/GoogleJsonError.html" title="class in com.google.api.client.googleapis.json"><code>GoogleJsonError</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../com/google/api/client/googleapis/json/GoogleJsonResponseException.html" title="class in com.google.api.client.googleapis.json">GoogleJsonResponseException</a></td>
<td class="colLast">
<div class="block">Exception thrown when an error status code is detected in an HTTP response to a Google API that
 uses the JSON format, using the format specified in <a
 href="http://code.google.com/apis/urlshortener/v1/getting_started.html#errors">Error
 Responses</a>.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package com.google.api.client.googleapis.json Description">Package com.google.api.client.googleapis.json Description</h2>
<div class="block">Google's JSON support (see detailed package specification).

 <h2>Package Specification</h2>

 <p>
 User-defined Partial JSON data models allow you to defined Plain Old Java Objects (POJO's) to
 define how the library should parse/serialize JSON. Each field that should be included must have
 an @<code>com.google.api.client.util.Key</code> annotation. The field can be of any visibility
 (private, package private, protected, or public) and must not be static. By default, the field
 name is used as the JSON key. To override this behavior, simply specify the JSON key use the
 optional value parameter of the annotation, for example <code>@Key("name")</code>. Any unrecognized
 keys from the JSON are normally simply ignored and not stored. If the ability to store unknown
 keys is important, use <code>com.google.api.client.json.GenericJson</code>.
 </p>

 <p>
 Let's take a look at a typical partial JSON-C video feed from the YouTube Data API (as specified
 in <a href="http://code.google.com/apis/youtube/2.0/developers_guide_jsonc.html">YouTube
 Developer's Guide: JSON-C / JavaScript</a>)
 </p>

 <pre><code>
 "data":{
    "updated":"2010-01-07T19:58:42.949Z",
    "totalItems":800,
    "startIndex":1,
    "itemsPerPage":1,
    "items":[
        {"id":"hYB0mn5zh2c",
         "updated":"2010-01-07T13:26:50.000Z",
         "title":"Google Developers Day US - Maps API Introduction",
         "description":"Google Maps API Introduction ...",
         "tags":[
            "GDD07","GDD07US","Maps"
         ],
         "player":{
            "default":"http://www.youtube.com/watch?v=hYB0mn5zh2c"
         },
...
        }
    ]
 }
</code></pre>

 <p>
 Here's one possible way to design the Java data classes for this (each class in its own Java
 file):
 </p>

 <pre><code>
import com.google.api.client.util.*;
import java.util.List;

  public class VideoFeed {
    &#64;Key public int itemsPerPage;
    &#64;Key public int startIndex;
    &#64;Key public int totalItems;
    &#64;Key public DateTime updated;
    &#64;Key public List&lt;Video&gt; items;
  }

  public class Video {
    &#64;Key public String id;
    &#64;Key public String title;
    &#64;Key public DateTime updated;
    &#64;Key public String description;
    &#64;Key public List&lt;String&gt; tags;
    &#64;Key public Player player;
  }

  public class Player {
    // "default" is a Java keyword, so need to specify the JSON key manually
    &#64;Key("default")
    public String defaultUrl;
  }
</code></pre>

 <p>
 You can also use the @<code>com.google.api.client.util.Key</code> annotation to defined query
 parameters for a URL. For example:
 </p>

 <pre><code>
public class YouTubeUrl extends GoogleUrl {

  &#64;Key
  public String author;

  &#64;Key("max-results")
  public Integer maxResults;

  public YouTubeUrl(String encodedUrl) {
    super(encodedUrl);
    this.alt = "jsonc";
  }
</code></pre>

 <p>
 To work with the YouTube API, you first need to set up the
 <code>com.google.api.client.http.HttpTransport</code>. For example:
 </p>

 <pre><code>
  private static HttpTransport setUpTransport() throws IOException {
    HttpTransport result = new NetHttpTransport();
    GoogleUtils.useMethodOverride(result);
    HttpHeaders headers = new HttpHeaders();
    headers.setApplicationName("Google-YouTubeSample/1.0");
    headers.gdataVersion = "2";
    JsonCParser parser = new JsonCParser();
    parser.jsonFactory = new JacksonFactory();
    transport.addParser(parser);
    // insert authentication code...
    return transport;
  }
</code></pre>

 <p>
 Now that we have a transport, we can execute a request to the YouTube API and parse the result:
 </p>

 <pre><code>
  public static VideoFeed list(HttpTransport transport, YouTubeUrl url)
      throws IOException {
    HttpRequest request = transport.buildGetRequest();
    request.url = url;
    return request.execute().parseAs(VideoFeed.class);
  }
</code></pre>

 <p>
 If the server responds with an error the <code>com.google.api.client.http.HttpRequest#execute</code>
 method will throw an <code>com.google.api.client.http.HttpResponseException</code>, which has an
 <code>com.google.api.client.http.HttpResponse</code> field which can be parsed the same way as a
 success response inside of a catch block. For example:
 </p>

 <pre><code>
    try {
...
    } catch (HttpResponseException e) {
      if (e.response.getParser() != null) {
        Error error = e.response.parseAs(Error.class);
        // process error response
      } else {
        String errorContentString = e.response.parseAsString();
        // process error response as string
      }
      throw e;
    }
</code></pre>

 <p>
 NOTE: As you might guess, the library uses reflection to populate the user-defined data model.
 It's not quite as fast as writing the wire format parsing code yourself can potentially be, but
 it's a lot easier.
 </p>

 <p>
 NOTE: If you prefer to use your favorite JSON parsing library instead (there are many of them
 listed for example on <a href="http://json.org">json.org</a>), that's supported as well. Just
 call <code>com.google.api.client.http.HttpRequest#execute()</code> and parse the returned byte stream.
 </p></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>1.0</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Yaniv Inbar</dd></dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/google/api/client/googleapis/javanet/package-summary.html">Prev Package</a></li>
<li><a href="../../../../../../com/google/api/client/googleapis/media/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/google/api/client/googleapis/json/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
